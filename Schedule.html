<!DOCTYPE html>
	<head>
		<meta charset="utf-8">
		<title>MyColleges | Transfer Assist</title>
		<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
		<link rel="stylesheet" href="styles.css">
	</head>
	<body>
		<div class="header">
			<nav>
				<span class="title">Transfer Assist</span>
				<a href="index.html">Home</a>
				<a href="MyColleges.html">My Colleges</a>
				<a href="Schedule.html" class="Schedule">Schedules</a>
			</nav>
		</div>
		<h1>Schedule </h1>
		<div class="majorDropdown">
			      <label for="dropdown">Major:</label>
			<select id="dropdown">
				<option value=""  > Select major... </option>
			</select>
		</div>		
		<button id="SchedBtn">Generate Schedule</button>
		<script>
			fetch("university.json")
				.then(response => response.json())
				.then(data => {
					const select = document.getElementById("dropdown");
					if (!select) {
						console.error('No select element with id "dropdown" found');
						return;
					}

					// major array
					const majorsSet = new Set();
					majorArray=[]
					const universities = data.universities || [];
					universities.forEach(u => {
						if (Array.isArray(u.majors)) {
							u.majors.forEach(m => {
								for (let i=0;i<majorArray.length;i++){
									if (u.majors[i].includes(m) ) break;
								}
								if (m && typeof m === 'string') {
									majorsSet.add(m.trim());
									majorArray.push(m.trim());
								}
							});
						}
					});

					
					// Clear existing options except the placeholder
					// (keep the first placeholder option if present)
					const placeholder = select.querySelector('option');
					select.innerHTML = '';
					if (placeholder) select.appendChild(placeholder);

					// Sort and append options
					Array.from(majorsSet).sort((a,b) => a.localeCompare(b)).forEach(major => {
						const option = document.createElement('option');
						option.value = major;
						option.textContent = major;
						select.appendChild(option);
					});
				})
				.catch(err => console.error('error fetching/unpacking university.json:', err));
				
		</script>
            </section>
        <footer>
        </footer>
        <script src="script.js"></script>
    </body>
</html>